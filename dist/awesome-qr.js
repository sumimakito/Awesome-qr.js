!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.AwesomeQR=e():t.AwesomeQR=e()}(this,(function(){return(()=>{var t={662:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.loop=e.conditional=e.parse=void 0,e.parse=function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;if(Array.isArray(r))r.forEach((function(r){return t(e,r,n,o)}));else if("function"==typeof r)r(e,n,o,t);else{var i=Object.keys(r)[0];Array.isArray(r[i])?(o[i]={},t(e,r[i],n,o[i])):o[i]=r[i](e,n,o,t)}return n},e.conditional=function(t,e){return function(r,n,o,i){e(r,n,o)&&i(r,t,n,o)}},e.loop=function(t,e){return function(r,n,o,i){for(var a=[];e(r,n,o);){var s={};i(r,t,n,s),a.push(s)}return a}}},58:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readBits=e.readArray=e.readUnsigned=e.readString=e.peekBytes=e.readBytes=e.peekByte=e.readByte=e.buildStream=void 0,e.buildStream=function(t){return{data:t,pos:0}};e.readByte=function(){return function(t){return t.data[t.pos++]}},e.peekByte=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(e){return e.data[e.pos+t]}};var r=function(t){return function(e){return e.data.subarray(e.pos,e.pos+=t)}};e.readBytes=r,e.peekBytes=function(t){return function(e){return e.data.subarray(e.pos,e.pos+t)}},e.readString=function(t){return function(e){return Array.from(r(t)(e)).map((function(t){return String.fromCharCode(t)})).join("")}},e.readUnsigned=function(t){return function(e){var n=r(2)(e);return t?(n[1]<<8)+n[0]:(n[0]<<8)+n[1]}},e.readArray=function(t,e){return function(n,o,i){for(var a="function"==typeof e?e(n,o,i):e,s=r(t),l=new Array(a),h=0;h<a;h++)l[h]=s(n);return l}},e.readBits=function(t){return function(e){for(var r=function(t){return t.data[t.pos++]}(e),n=new Array(8),o=0;o<8;o++)n[7-o]=!!(r&1<<o);return Object.keys(t).reduce((function(e,r){var o=t[r];return o.length?e[r]=function(t,e,r){for(var n=0,o=0;o<r;o++)n+=t[e+o]&&Math.pow(2,r-o-1);return n}(n,o.index,o.length):e[r]=n[o.index],e}),{})}}},342:(t,e,r)=>{"use strict";e.Z=void 0;var n=r(662),o=r(58),i={blocks:function(t){for(var e=[],r=t.data.length,n=0,i=(0,o.readByte)()(t);0!==i;i=(0,o.readByte)()(t)){if(t.pos+i>=r){var a=r-t.pos;e.push((0,o.readBytes)(a)(t)),n+=a;break}e.push((0,o.readBytes)(i)(t)),n+=i}for(var s=new Uint8Array(n),l=0,h=0;h<e.length;h++)s.set(e[h],l),l+=e[h].length;return s}},a=(0,n.conditional)({gce:[{codes:(0,o.readBytes)(2)},{byteSize:(0,o.readByte)()},{extras:(0,o.readBits)({future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}})},{delay:(0,o.readUnsigned)(!0)},{transparentColorIndex:(0,o.readByte)()},{terminator:(0,o.readByte)()}]},(function(t){var e=(0,o.peekBytes)(2)(t);return 33===e[0]&&249===e[1]})),s=(0,n.conditional)({image:[{code:(0,o.readByte)()},{descriptor:[{left:(0,o.readUnsigned)(!0)},{top:(0,o.readUnsigned)(!0)},{width:(0,o.readUnsigned)(!0)},{height:(0,o.readUnsigned)(!0)},{lct:(0,o.readBits)({exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}})}]},(0,n.conditional)({lct:(0,o.readArray)(3,(function(t,e,r){return Math.pow(2,r.descriptor.lct.size+1)}))},(function(t,e,r){return r.descriptor.lct.exists})),{data:[{minCodeSize:(0,o.readByte)()},i]}]},(function(t){return 44===(0,o.peekByte)()(t)})),l=(0,n.conditional)({text:[{codes:(0,o.readBytes)(2)},{blockSize:(0,o.readByte)()},{preData:function(t,e,r){return(0,o.readBytes)(r.text.blockSize)(t)}},i]},(function(t){var e=(0,o.peekBytes)(2)(t);return 33===e[0]&&1===e[1]})),h=(0,n.conditional)({application:[{codes:(0,o.readBytes)(2)},{blockSize:(0,o.readByte)()},{id:function(t,e,r){return(0,o.readString)(r.blockSize)(t)}},i]},(function(t){var e=(0,o.peekBytes)(2)(t);return 33===e[0]&&255===e[1]})),u=(0,n.conditional)({comment:[{codes:(0,o.readBytes)(2)},i]},(function(t){var e=(0,o.peekBytes)(2)(t);return 33===e[0]&&254===e[1]})),c=[{header:[{signature:(0,o.readString)(3)},{version:(0,o.readString)(3)}]},{lsd:[{width:(0,o.readUnsigned)(!0)},{height:(0,o.readUnsigned)(!0)},{gct:(0,o.readBits)({exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}})},{backgroundColorIndex:(0,o.readByte)()},{pixelAspectRatio:(0,o.readByte)()}]},(0,n.conditional)({gct:(0,o.readArray)(3,(function(t,e){return Math.pow(2,e.lsd.gct.size+1)}))},(function(t,e){return e.lsd.gct.exists})),{frames:(0,n.loop)([a,h,u,s,l],(function(t){var e=(0,o.peekByte)()(t);return 33===e||44===e}))}];e.Z=c},5:t=>{"use strict";function e(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function r(t,e){for(var r,n="",o=0,i=-1,a=0,s=0;s<=t.length;++s){if(s<t.length)r=t.charCodeAt(s);else{if(47===r)break;r=47}if(47===r){if(i===s-1||1===a);else if(i!==s-1&&2===a){if(n.length<2||2!==o||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var l=n.lastIndexOf("/");if(l!==n.length-1){-1===l?(n="",o=0):o=(n=n.slice(0,l)).length-1-n.lastIndexOf("/"),i=s,a=0;continue}}else if(2===n.length||1===n.length){n="",o=0,i=s,a=0;continue}e&&(n.length>0?n+="/..":n="..",o=2)}else n.length>0?n+="/"+t.slice(i+1,s):n=t.slice(i+1,s),o=s-i-1;i=s,a=0}else 46===r&&-1!==a?++a:a=-1}return n}var n={resolve:function(){for(var t,n="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a;i>=0?a=arguments[i]:(void 0===t&&(t=process.cwd()),a=t),e(a),0!==a.length&&(n=a+"/"+n,o=47===a.charCodeAt(0))}return n=r(n,!o),o?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(t){if(e(t),0===t.length)return".";var n=47===t.charCodeAt(0),o=47===t.charCodeAt(t.length-1);return 0!==(t=r(t,!n)).length||n||(t="."),t.length>0&&o&&(t+="/"),n?"/"+t:t},isAbsolute:function(t){return e(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var t,r=0;r<arguments.length;++r){var o=arguments[r];e(o),o.length>0&&(void 0===t?t=o:t+="/"+o)}return void 0===t?".":n.normalize(t)},relative:function(t,r){if(e(t),e(r),t===r)return"";if((t=n.resolve(t))===(r=n.resolve(r)))return"";for(var o=1;o<t.length&&47===t.charCodeAt(o);++o);for(var i=t.length,a=i-o,s=1;s<r.length&&47===r.charCodeAt(s);++s);for(var l=r.length-s,h=a<l?a:l,u=-1,c=0;c<=h;++c){if(c===h){if(l>h){if(47===r.charCodeAt(s+c))return r.slice(s+c+1);if(0===c)return r.slice(s+c)}else a>h&&(47===t.charCodeAt(o+c)?u=c:0===c&&(u=0));break}var f=t.charCodeAt(o+c);if(f!==r.charCodeAt(s+c))break;47===f&&(u=c)}var d="";for(c=o+u+1;c<=i;++c)c!==i&&47!==t.charCodeAt(c)||(0===d.length?d+="..":d+="/..");return d.length>0?d+r.slice(s+u):(s+=u,47===r.charCodeAt(s)&&++s,r.slice(s))},_makeLong:function(t){return t},dirname:function(t){if(e(t),0===t.length)return".";for(var r=t.charCodeAt(0),n=47===r,o=-1,i=!0,a=t.length-1;a>=1;--a)if(47===(r=t.charCodeAt(a))){if(!i){o=a;break}}else i=!1;return-1===o?n?"/":".":n&&1===o?"//":t.slice(0,o)},basename:function(t,r){if(void 0!==r&&"string"!=typeof r)throw new TypeError('"ext" argument must be a string');e(t);var n,o=0,i=-1,a=!0;if(void 0!==r&&r.length>0&&r.length<=t.length){if(r.length===t.length&&r===t)return"";var s=r.length-1,l=-1;for(n=t.length-1;n>=0;--n){var h=t.charCodeAt(n);if(47===h){if(!a){o=n+1;break}}else-1===l&&(a=!1,l=n+1),s>=0&&(h===r.charCodeAt(s)?-1==--s&&(i=n):(s=-1,i=l))}return o===i?i=l:-1===i&&(i=t.length),t.slice(o,i)}for(n=t.length-1;n>=0;--n)if(47===t.charCodeAt(n)){if(!a){o=n+1;break}}else-1===i&&(a=!1,i=n+1);return-1===i?"":t.slice(o,i)},extname:function(t){e(t);for(var r=-1,n=0,o=-1,i=!0,a=0,s=t.length-1;s>=0;--s){var l=t.charCodeAt(s);if(47!==l)-1===o&&(i=!1,o=s+1),46===l?-1===r?r=s:1!==a&&(a=1):-1!==r&&(a=-1);else if(!i){n=s+1;break}}return-1===r||-1===o||0===a||1===a&&r===o-1&&r===n+1?"":t.slice(r,o)},format:function(t){if(null===t||"object"!=typeof t)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return function(t,e){var r=e.dir||e.root,n=e.base||(e.name||"")+(e.ext||"");return r?r===e.root?r+n:r+"/"+n:n}(0,t)},parse:function(t){e(t);var r={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return r;var n,o=t.charCodeAt(0),i=47===o;i?(r.root="/",n=1):n=0;for(var a=-1,s=0,l=-1,h=!0,u=t.length-1,c=0;u>=n;--u)if(47!==(o=t.charCodeAt(u)))-1===l&&(h=!1,l=u+1),46===o?-1===a?a=u:1!==c&&(c=1):-1!==a&&(c=-1);else if(!h){s=u+1;break}return-1===a||-1===l||0===c||1===c&&a===l-1&&a===s+1?-1!==l&&(r.base=r.name=0===s&&i?t.slice(1,l):t.slice(s,l)):(0===s&&i?(r.name=t.slice(1,a),r.base=t.slice(1,l)):(r.name=t.slice(s,a),r.base=t.slice(s,l)),r.ext=t.slice(a,l)),s>0?r.dir=t.slice(0,s-1):i&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};n.posix=n,t.exports=n},651:(t,e,r)=>{"use strict";const{asBuffer:n,asDownload:o,asZipDownload:i,atScale:a,options:s}=r(782),l=Symbol.for("toDataURL"),{CanvasRenderingContext2D:h,CanvasGradient:u,CanvasPattern:c,Image:f,ImageData:d,Path2D:p,DOMMatrix:g,DOMRect:m,DOMPoint:v}=window;t.exports={Canvas:class{constructor(t,e){let r=document.createElement("canvas"),h=[];for(var[u,c]of(Object.defineProperty(r,"async",{value:!0,writable:!1,enumerable:!0}),Object.entries({png:()=>n(r,"image/png"),jpg:()=>n(r,"image/jpeg"),pages:()=>h.concat(r).map((t=>t.getContext("2d")))})))Object.defineProperty(r,u,{get:c});return Object.assign(r,{width:t,height:e,newPage(...t){var{width:e,height:n}=r,o=Object.assign(document.createElement("canvas"),{width:e,height:n});o.getContext("2d").drawImage(r,0,0),h.push(o);var[e,n]=t.length?t:[e,n];return Object.assign(r,{width:e,height:n}).getContext("2d")},saveAs(t,e){e="number"==typeof e?{quality:e}:e;let r=s(this.pages,{filename:t,...e}),{pattern:n,padding:l,mime:h,quality:u,matte:c,density:f,archive:d}=r,p=a(r.pages,f);return null==l?o(p[0],h,u,c,t):i(p,h,u,c,d,n,l)},toBuffer(t="png",e={}){e="number"==typeof e?{quality:e}:e;let r=s(this.pages,{extension:t,...e}),{mime:o,quality:i,matte:l,pages:h,density:u}=r,c=a(h,u,l)[0];return n(c,o,i,l)},[l]:r.toDataURL.bind(r),toDataURL(t="png",e={}){e="number"==typeof e?{quality:e}:e;let n=s(this.pages,{extension:t,...e}),{mime:o,quality:i,matte:h,pages:u,density:c}=n,f=a(u,c,h)[0],d=f[f===r?l:"toDataURL"](o,i);return Promise.resolve(d)}})}},loadImage:t=>new Promise(((e,r)=>Object.assign(new f,{crossOrigin:"Anonymous",onload:e,onerror:r,src:t}))),CanvasRenderingContext2D:h,CanvasGradient:u,CanvasPattern:c,Image:f,ImageData:d,Path2D:p,DOMMatrix:g,DOMRect:m,DOMPoint:v}},782:(t,e,r)=>{"use strict";const{basename:n,extname:o}=r(5);class i{constructor(){let t=void 0===r.g,e="image/png",n="image/jpeg",o="image/jpeg",i="image/webp",a="application/pdf",s="image/svg+xml";Object.assign(this,{toMime:this.toMime.bind(this),fromMime:this.fromMime.bind(this),expected:t?'"png", "jpg", or "webp"':'"png", "jpg", "pdf", or "svg"',formats:t?{png:e,jpg:n,jpeg:o,webp:i}:{png:e,jpg:n,jpeg:o,pdf:a,svg:s},mimes:t?{[e]:"png",[n]:"jpg",[i]:"webp"}:{[e]:"png",[n]:"jpg",[a]:"pdf",[s]:"svg"}})}toMime(t){return this.formats[(t||"").replace(/^\./,"").toLowerCase()]}fromMime(t){return this.mimes[t]}}class a{static for(t){return(new a).append(t).get()}constructor(){this.crc=-1}get(){return~this.crc}append(t){for(var e=0|this.crc,r=this.table,n=0,o=0|t.length;n<o;n++)e=e>>>8^r[255&(e^t[n])];return this.crc=e,this}}function s(t){let e=new Uint8Array(t),r=new DataView(e.buffer),n={array:e,view:r,size:t,set8:(t,e)=>(r.setUint8(t,e),n),set16:(t,e)=>(r.setUint16(t,e,!0),n),set32:(t,e)=>(r.setUint32(t,e,!0),n),bytes:(t,r)=>(e.set(r,t),n)};return n}a.prototype.table=(()=>{var t,e,r,n=[];for(t=0;t<256;t++){for(r=t,e=0;e<8;e++)r=1&r?r>>>1^3988292384:r>>>1;n[t]=r}return n})();class l{static encoder=new TextEncoder;constructor(t){let e=new Date;Object.assign(this,{directory:t,offset:0,files:[],time:(e.getHours()<<6|e.getMinutes())<<5|e.getSeconds()/2,date:(e.getFullYear()-1980<<4|e.getMonth()+1)<<5|e.getDate()}),this.add(t)}async add(t,e){let r=!e,n=l.encoder.encode(`${this.directory}/${r?"":t}`),o=new Uint8Array(r?0:await e.arrayBuffer()),i=30+n.length,h=i+o.length,{offset:u}=this,c=s(26).set32(0,134742036).set16(6,this.time).set16(8,this.date).set32(10,a.for(o)).set32(14,o.length).set32(18,o.length).set16(22,n.length);u+=i;let f=s(i+o.length+16).set32(0,67324752).bytes(4,c.array).bytes(30,n).bytes(i,o);u+=o.length,f.set32(h,134695760).bytes(h+4,c.array.slice(10,22)),u+=16,this.files.push({offset:u,folder:r,name:n,header:c,payload:f}),this.offset=u}toBuffer(){let t=this.files.reduce(((t,{name:e})=>46+e.length+t),0),e=s(t+22),r=0;for(var{offset:n,name:o,header:i,folder:a}of this.files)e.set32(r,33639248).set16(r+4,20).bytes(r+6,i.array).set8(r+38,a?16:0).set32(r+42,n).bytes(r+46,o),r+=46+o.length;e.set32(r,101010256).set16(r+8,this.files.length).set16(r+10,this.files.length).set32(r+12,t).set32(r+16,this.offset);let l=new Uint8Array(this.offset+e.size),h=0;for(var{payload:u}of this.files)l.set(u.array,h),h+=u.size;return l.set(e.array,h),l}get blob(){return new Blob([this.toBuffer()],{type:"application/zip"})}}const h=(t,e,r,n)=>{if(n){let{width:e,height:r}=t,o=Object.assign(document.createElement("canvas"),{width:e,height:r}),i=o.getContext("2d");i.fillStyle=n,i.fillRect(0,0,e,r),i.drawImage(t,0,0),t=o}return new Promise(((n,o)=>t.toBlob(n,e,r)))},u=(t,e)=>{const r=window.URL.createObjectURL(e),n=document.createElement("a");n.style.display="none",n.href=r,n.setAttribute("download",t),void 0===n.download&&n.setAttribute("target","_blank"),document.body.appendChild(n),n.click(),document.body.removeChild(n),setTimeout((()=>window.URL.revokeObjectURL(r)),100)};t.exports={asBuffer:(...t)=>h(...t).then((t=>t.arrayBuffer())),asDownload:async(t,e,r,n,o)=>{u(o,await h(t,e,r,n))},asZipDownload:async(t,e,r,o,i,a,s)=>{let c=n(i,".zip")||"archive",f=new l(c);await Promise.all(t.map((async(t,n)=>{let i=(t=>a.replace("{}",String(t+1).padStart(s,"0")))(n);await f.add(i,await h(t,e,r,o))}))),u(`${c}.zip`,f.blob)},atScale:(t,e,r)=>t.map((t=>{if(1==e&&!r)return t.canvas;let n=document.createElement("canvas"),o=n.getContext("2d"),i=t.canvas?t.canvas:t;return n.width=i.width*e,n.height=i.height*e,r&&(o.fillStyle=r,o.fillRect(0,0,n.width,n.height)),o.scale(e,e),o.drawImage(i,0,0),n})),options:function(t,{filename:e="",extension:r="",format:a,page:s,quality:l,matte:h,density:u,outline:c,archive:f}={}){var{fromMime:d,toMime:p,expected:g}=new i,m=(f=f||"canvas",a||r.replace(/@\d+x$/i,"")||o(e)),v=(a=d(p(m)||m),p(a)),y=t.length;if(!m)throw new Error("Cannot determine image format (use a filename extension or 'format' argument)");if(!a)throw new Error(`Unsupported file format "${m}" (expected ${g})`);if(!y)throw new RangeError("Canvas has no associated contexts (try calling getContext or newPage first)");let w,b,C=e.replace(/{(\d*)}/g,((t,e)=>(b=!0,e=parseInt(e,10),w=isFinite(e)?e:isFinite(w)?w:-1,"{}"))),A=s>0?s-1:s<0?y+s:void 0;if(isFinite(A)&&A<0||A>=y)throw new RangeError(1==y?`Canvas only has a ‘page 1’ (${A} is out of bounds)`:`Canvas has pages 1–${y} (${A} is out of bounds)`);if(t=isFinite(A)?[t[A]]:b||"pdf"==a?t:t.slice(-1),void 0===l)l=.92;else if("number"!=typeof l||!isFinite(l)||l<0||l>1)throw new TypeError("The quality option must be an number in the 0.0–1.0 range");if(void 0===u){let t=(r||n(e,m)).match(/@(\d+)x$/i);u=t?parseInt(t[1],10):1}else if("number"!=typeof u||!Number.isInteger(u)||u<1)throw new TypeError("The density option must be a non-negative integer");return void 0===c?c=!0:"svg"==a&&(c=!!c),{filename:e,pattern:C,format:a,mime:v,pages:t,padding:w,quality:l,matte:h,density:u,outline:c,archive:f}}}},294:function(t,e,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},n.apply(this,arguments)},o=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{l(n.next(t))}catch(t){i(t)}}function s(t){try{l(n.throw(t))}catch(t){i(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}l((n=n.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AwesomeQR=void 0;var s=r(651),l=r(952),h=r(937),u=a(r(137)),c=.4,f=function(){function t(e){var r=Object.assign({},e);if(Object.keys(t.defaultOptions).forEach((function(e){e in r||Object.defineProperty(r,e,{value:t.defaultOptions[e],enumerable:!0,writable:!0})})),r.components?"object"==typeof r.components&&Object.keys(t.defaultComponentOptions).forEach((function(e){e in r.components?Object.defineProperty(r.components,e,{value:n(n({},t.defaultComponentOptions[e]),r.components[e]),enumerable:!0,writable:!0}):Object.defineProperty(r.components,e,{value:t.defaultComponentOptions[e],enumerable:!0,writable:!0})})):r.components=t.defaultComponentOptions,null!==r.dotScale&&void 0!==r.dotScale){if(r.dotScale<=0||r.dotScale>1)throw new Error("dotScale should be in range (0, 1].");r.components.data.scale=r.dotScale,r.components.timing.scale=r.dotScale,r.components.alignment.scale=r.dotScale}this.options=r,this.canvas=new s.Canvas(e.size,e.size),this.canvasContext=this.canvas.getContext("2d"),this.qrCode=new h.QRCodeModel(-1,this.options.correctLevel),Number.isInteger(this.options.maskPattern)&&(this.qrCode.maskPattern=this.options.maskPattern),Number.isInteger(this.options.version)&&(this.qrCode.typeNumber=this.options.version),this.qrCode.addData(this.options.text),this.qrCode.make()}return t.prototype.draw=function(){var t=this;return new Promise((function(e){return t._draw().then(e)}))},t.prototype._clear=function(){this.canvasContext.clearRect(0,0,this.canvas.width,this.canvas.height)},t._prepareRoundedCornerClip=function(t,e,r,n,o,i){t.beginPath(),t.moveTo(e,r),t.arcTo(e+n,r,e+n,r+o,i),t.arcTo(e+n,r+o,e,r+o,i),t.arcTo(e,r+o,e,r,i),t.arcTo(e,r,e+n,r,i),t.closePath()},t._getAverageRGB=function(t){var e,r,n={r:0,g:0,b:0},o=-4,i={r:0,g:0,b:0},a=0;r=t.naturalHeight||t.height,e=t.naturalWidth||t.width;var l,h=new s.Canvas(e,r).getContext("2d");if(!h)return n;h.drawImage(t,0,0);try{l=h.getImageData(0,0,e,r)}catch(t){return n}for(;(o+=20)<l.data.length;)l.data[o]>200||l.data[o+1]>200||l.data[o+2]>200||(++a,i.r+=l.data[o],i.g+=l.data[o+1],i.b+=l.data[o+2]);return i.r=~~(i.r/a),i.g=~~(i.g/a),i.b=~~(i.b/a),i},t._drawDot=function(t,e,r,n,o,i){void 0===o&&(o=0),void 0===i&&(i=1),t.fillRect((e+o)*n,(r+o)*n,i*n,i*n)},t._drawAlignProtector=function(t,e,r,n){t.clearRect((e-2)*n,(r-2)*n,5*n,5*n),t.fillRect((e-2)*n,(r-2)*n,5*n,5*n)},t._drawAlign=function(e,r,n,o,i,a,s,l){void 0===i&&(i=0),void 0===a&&(a=1);var h=e.fillStyle;e.fillStyle=s,new Array(4).fill(0).map((function(s,l){t._drawDot(e,r-2+l,n-2,o,i,a),t._drawDot(e,r+2,n-2+l,o,i,a),t._drawDot(e,r+2-l,n+2,o,i,a),t._drawDot(e,r-2,n+2-l,o,i,a)})),t._drawDot(e,r,n,o,i,a),l||(e.fillStyle="rgba(255, 255, 255, 0.6)",new Array(2).fill(0).map((function(s,l){t._drawDot(e,r-1+l,n-1,o,i,a),t._drawDot(e,r+1,n-1+l,o,i,a),t._drawDot(e,r+1-l,n+1,o,i,a),t._drawDot(e,r-1,n+1-l,o,i,a)}))),e.fillStyle=h},t.prototype._draw=function(){var e,r,n,a,f,p,g,m,v,y,w,b,C,A,B,P,x,R,E;return o(this,void 0,void 0,(function(){var o,D,T,k,M,_,L,S,I,O,j,N,Q,U,F,z,G,H,q,K,$,X,Y,J,Z,W,V,tt,et,rt,nt,ot,it,at,st,lt,ht,ut,ct,ft,dt,pt,gt,mt,vt,yt,wt,bt,Ct,At,Bt,Pt,xt,Rt,Et,Dt,Tt,kt,Mt,_t,Lt,St,It,Ot;return i(this,(function(i){switch(i.label){case 0:if(o=null===(e=this.qrCode)||void 0===e?void 0:e.moduleCount,D=this.options.size,((T=this.options.margin)<0||2*T>=D)&&(T=0),k=Math.ceil(T),M=D-2*T,_=this.options.whiteMargin,L=this.options.backgroundDimming,S=Math.ceil(M/o),O=(I=S*o)+2*k,j=new s.Canvas(O,O),N=j.getContext("2d"),this._clear(),N.save(),N.translate(k,k),Q=new s.Canvas(O,O),U=Q.getContext("2d"),F=null,z=[],!this.options.gifBackground)return[3,1];if(G=l.parseGIF(this.options.gifBackground),F=G,z=l.decompressFrames(G,!0),this.options.autoColor){for(H=0,q=0,K=0,$=0,gt=0;gt<z[0].colorTable.length;gt++)(X=z[0].colorTable[gt])[0]>200||X[1]>200||X[2]>200||0===X[0]&&0===X[1]&&0===X[2]||($++,H+=X[0],q+=X[1],K+=X[2]);H=~~(H/$),q=~~(q/$),K=~~(K/$),this.options.colorDark="rgb("+H+","+q+","+K+")"}return[3,4];case 1:return this.options.backgroundImage?[4,s.loadImage(this.options.backgroundImage)]:[3,3];case 2:return Y=i.sent(),this.options.autoColor&&(J=t._getAverageRGB(Y),this.options.colorDark="rgb("+J.r+","+J.g+","+J.b+")"),U.drawImage(Y,0,0,Y.width,Y.height,0,0,O,O),U.rect(0,0,O,O),U.fillStyle=L,U.fill(),[3,4];case 3:U.rect(0,0,O,O),U.fillStyle=this.options.colorLight,U.fill(),i.label=4;case 4:for(Z=h.QRUtil.getPatternPosition(this.qrCode.typeNumber),W=(null===(n=null===(r=this.options.components)||void 0===r?void 0:r.data)||void 0===n?void 0:n.scale)||c,V=.5*(1-W),tt=0;tt<o;tt++)for(et=0;et<o;et++){for(rt=this.qrCode.isDark(tt,et),nt=6==tt&&et>=8&&et<=o-8||6==et&&tt>=8&&tt<=o-8,ot=et<8&&(tt<8||tt>=o-8)||et>=o-8&&tt<8||nt,gt=1;gt<Z.length-1;gt++)ot=ot||tt>=Z[gt]-2&&tt<=Z[gt]+2&&et>=Z[gt]-2&&et<=Z[gt]+2;it=et*S+(ot?0:V*S),at=tt*S+(ot?0:V*S),N.strokeStyle=rt?this.options.colorDark:this.options.colorLight,N.lineWidth=.5,N.fillStyle=rt?this.options.colorDark:"rgba(255, 255, 255, 0.6)",0===Z.length?ot||N.fillRect(it,at,(ot?1:W)*S,(ot?1:W)*S):(st=et<o-4&&et>=o-4-5&&tt<o-4&&tt>=o-4-5,ot||st||N.fillRect(it,at,(ot?1:W)*S,(ot?1:W)*S))}if(lt=Z[Z.length-1],N.fillStyle="rgba(255, 255, 255, 0.6)",N.fillRect(0,0,8*S,8*S),N.fillRect(0,(o-8)*S,8*S,8*S),N.fillRect((o-8)*S,0,8*S,8*S),(null===(f=null===(a=this.options.components)||void 0===a?void 0:a.timing)||void 0===f?void 0:f.protectors)&&(N.fillRect(8*S,6*S,(o-8-8)*S,S),N.fillRect(6*S,8*S,S,(o-8-8)*S)),(null===(g=null===(p=this.options.components)||void 0===p?void 0:p.cornerAlignment)||void 0===g?void 0:g.protectors)&&t._drawAlignProtector(N,lt,lt,S),null===(v=null===(m=this.options.components)||void 0===m?void 0:m.alignment)||void 0===v?void 0:v.protectors)for(gt=0;gt<Z.length;gt++)for(mt=0;mt<Z.length;mt++)vt=Z[mt],yt=Z[gt],(6!==vt||6!==yt&&yt!==lt)&&(6!==yt||6!==vt&&vt!==lt)&&(vt===lt&&yt===lt||t._drawAlignProtector(N,vt,yt,S));for(N.fillStyle=this.options.colorDark,N.fillRect(0,0,7*S,S),N.fillRect((o-7)*S,0,7*S,S),N.fillRect(0,6*S,7*S,S),N.fillRect((o-7)*S,6*S,7*S,S),N.fillRect(0,(o-7)*S,7*S,S),N.fillRect(0,(o-7+6)*S,7*S,S),N.fillRect(0,0,S,7*S),N.fillRect(6*S,0,S,7*S),N.fillRect((o-7)*S,0,S,7*S),N.fillRect((o-7+6)*S,0,S,7*S),N.fillRect(0,(o-7)*S,S,7*S),N.fillRect(6*S,(o-7)*S,S,7*S),N.fillRect(2*S,2*S,3*S,3*S),N.fillRect((o-7+2)*S,2*S,3*S,3*S),N.fillRect(2*S,(o-7+2)*S,3*S,3*S),ht=(null===(w=null===(y=this.options.components)||void 0===y?void 0:y.timing)||void 0===w?void 0:w.scale)||c,ut=.5*(1-ht),gt=0;gt<o-8;gt+=2)t._drawDot(N,8+gt,6,S,ut,ht),t._drawDot(N,6,8+gt,S,ut,ht);for(ct=(null===(C=null===(b=this.options.components)||void 0===b?void 0:b.cornerAlignment)||void 0===C?void 0:C.scale)||c,ft=.5*(1-ct),t._drawAlign(N,lt,lt,S,ft,ct,this.options.colorDark,(null===(B=null===(A=this.options.components)||void 0===A?void 0:A.cornerAlignment)||void 0===B?void 0:B.protectors)||!1),dt=(null===(x=null===(P=this.options.components)||void 0===P?void 0:P.alignment)||void 0===x?void 0:x.scale)||c,pt=.5*(1-dt),gt=0;gt<Z.length;gt++)for(mt=0;mt<Z.length;mt++)vt=Z[mt],yt=Z[gt],(6!==vt||6!==yt&&yt!==lt)&&(6!==yt||6!==vt&&vt!==lt)&&(vt===lt&&yt===lt||t._drawAlign(N,vt,yt,S,pt,dt,this.options.colorDark,(null===(E=null===(R=this.options.components)||void 0===R?void 0:R.alignment)||void 0===E?void 0:E.protectors)||!1));return _&&(N.fillStyle="#FFFFFF",N.fillRect(-k,-k,O,k),N.fillRect(-k,I,O,k),N.fillRect(I,-k,k,O),N.fillRect(-k,-k,k,O)),this.options.logoImage?[4,s.loadImage(this.options.logoImage)]:[3,6];case 5:wt=i.sent(),bt=this.options.logoScale,Ct=this.options.logoMargin,At=this.options.logoCornerRadius,(bt<=0||bt>=1)&&(bt=.2),Ct<0&&(Ct=0),At<0&&(At=0),xt=Pt=.5*(O-(Bt=I*bt)),N.restore(),N.fillStyle="#FFFFFF",N.save(),t._prepareRoundedCornerClip(N,Pt-Ct,xt-Ct,Bt+2*Ct,Bt+2*Ct,At+Ct),N.clip(),Rt=N.globalCompositeOperation,N.globalCompositeOperation="destination-out",N.fill(),N.globalCompositeOperation=Rt,N.restore(),N.save(),t._prepareRoundedCornerClip(N,Pt,xt,Bt,Bt,At),N.clip(),N.drawImage(wt,Pt,xt,Bt,Bt),N.restore(),N.save(),N.translate(k,k),i.label=6;case 6:if(F){if(z.forEach((function(t){Et||((Et=new u.default(D,D)).setDelay(t.delay),Et.setRepeat(0));var e=t.dims,r=e.width,n=e.height;Dt||(Dt=new s.Canvas(r,n),(Tt=Dt.getContext("2d")).rect(0,0,Dt.width,Dt.height),Tt.fillStyle="#ffffff",Tt.fill()),kt&&_t&&r===kt.width&&n===kt.height||(kt=new s.Canvas(r,n),Mt=kt.getContext("2d"),_t=Mt.createImageData(r,n)),_t.data.set(t.patch),Mt.putImageData(_t,0,0),Tt.drawImage(kt.getContext("2d").canvas,t.dims.left,t.dims.top);var o=new s.Canvas(O,O),i=o.getContext("2d");i.drawImage(Dt.getContext("2d").canvas,0,0,O,O),i.rect(0,0,O,O),i.fillStyle=L,i.fill(),i.drawImage(j.getContext("2d").canvas,0,0,O,O);var a=new s.Canvas(D,D),l=a.getContext("2d");l.drawImage(o.getContext("2d").canvas,0,0,D,D),Et.addFrame(l.getImageData(0,0,a.width,a.height).data)})),!Et)throw new Error("No frames.");return Et.finish(),d(this.canvas)?(Lt=Et.stream().toFlattenUint8Array(),St=Lt.reduce((function(t,e){return t+String.fromCharCode(e)}),""),[2,Promise.resolve("data:image/gif;base64,"+window.btoa(St))]):[2,Promise.resolve(Buffer.from(Et.stream().toFlattenUint8Array()))]}return U.drawImage(j.getContext("2d").canvas,0,0,O,O),N.drawImage(Q.getContext("2d").canvas,-k,-k,O,O),(It=new s.Canvas(D,D)).getContext("2d").drawImage(j.getContext("2d").canvas,0,0,D,D),this.canvas=It,Ot=this.options.gifBackground?"gif":"png",d(this.canvas)?[2,Promise.resolve(this.canvas.toDataURL(Ot))]:[2,Promise.resolve(this.canvas.toBuffer(Ot))]}}))}))},t.CorrectLevel=h.QRErrorCorrectLevel,t.defaultComponentOptions={data:{scale:1},timing:{scale:1,protectors:!1},alignment:{scale:1,protectors:!1},cornerAlignment:{scale:1,protectors:!0}},t.defaultOptions={text:"",size:400,margin:20,colorDark:"#000000",colorLight:"#ffffff",correctLevel:h.QRErrorCorrectLevel.M,backgroundImage:void 0,backgroundDimming:"rgba(0,0,0,0)",logoImage:void 0,logoScale:.2,logoMargin:4,logoCornerRadius:8,whiteMargin:!0,components:t.defaultComponentOptions,autoColor:!0},t}();function d(t){try{return t instanceof HTMLElement}catch(e){return"object"==typeof t&&1===t.nodeType&&"object"==typeof t.style&&"object"==typeof t.ownerDocument}}e.AwesomeQR=f},642:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),o=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(r(937),e);var i=r(294);Object.defineProperty(e,"AwesomeQR",{enumerable:!0,get:function(){return i.AwesomeQR}})},937:(t,e)=>{"use strict";function r(t){var e=encodeURI(t).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return e.length+(e.length!=Number(t)?3:0)}Object.defineProperty(e,"__esModule",{value:!0}),e.QRMath=e.QRUtil=e.QRMaskPattern=e.QRErrorCorrectLevel=e.QRCodeModel=void 0;var n=function(){function t(t){this.mode=i.MODE_8BIT_BYTE,this.parsedData=[],this.data=t;for(var e=[],r=0,n=this.data.length;r<n;r++){var o=[],a=this.data.charCodeAt(r);if(a<128)o.push(a);else if(a<2048)o.push(192|a>>6,128|63&a);else if(a<55296||a>=57344)o.push(224|a>>12,128|a>>6&63,128|63&a);else{r++;var s=65536+((1023&a)<<10|1023&this.data.charCodeAt(r));o.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|63&s)}e.push(o)}this.parsedData=Array.prototype.concat.apply([],e)}return t.prototype.getLength=function(){return this.parsedData.length},t.prototype.write=function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)},t}(),o=function(){function t(t,r){void 0===t&&(t=-1),void 0===r&&(r=e.QRErrorCorrectLevel.L),this.moduleCount=0,this.dataList=[],this.typeNumber=t,this.errorCorrectLevel=r,this.moduleCount=0,this.dataList=[]}return t.prototype.addData=function(t){if(this.typeNumber<=0)this.typeNumber=function(t,n){for(var o=1,i=r(t),a=0,s=c.length;a<s;a++){var l=0;switch(n){case e.QRErrorCorrectLevel.L:l=c[a][0];break;case e.QRErrorCorrectLevel.M:l=c[a][1];break;case e.QRErrorCorrectLevel.Q:l=c[a][2];break;case e.QRErrorCorrectLevel.H:l=c[a][3]}if(i<=l)break;o++}if(o>c.length)throw new Error("Too long data");return o}(t,this.errorCorrectLevel);else{if(this.typeNumber>40)throw new Error("Invalid QR version: "+this.typeNumber);if(!function(t,n,o){var i=r(n),a=t-1,s=0;switch(o){case e.QRErrorCorrectLevel.L:s=c[a][0];break;case e.QRErrorCorrectLevel.M:s=c[a][1];break;case e.QRErrorCorrectLevel.Q:s=c[a][2];break;case e.QRErrorCorrectLevel.H:s=c[a][3]}return i<=s}(this.typeNumber,t,this.errorCorrectLevel))throw new Error("Data is too long for QR version: "+this.typeNumber)}var o=new n(t);this.dataList.push(o),this.dataCache=void 0},t.prototype.isDark=function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},t.prototype.getModuleCount=function(){return this.moduleCount},t.prototype.make=function(){this.makeImpl(!1,this.getBestMaskPattern())},t.prototype.makeImpl=function(e,r){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++)this.modules[n][o]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,r),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=t.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,r)},t.prototype.setupPositionProbePattern=function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(this.modules[t+r][e+n]=0<=r&&r<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==r||6==r)||2<=r&&r<=4&&2<=n&&n<=4)},t.prototype.getBestMaskPattern=function(){if(Number.isInteger(this.maskPattern)&&Object.values(e.QRMaskPattern).includes(this.maskPattern))return this.maskPattern;for(var t=0,r=0,n=0;n<8;n++){this.makeImpl(!0,n);var o=a.getLostPoint(this);(0==n||t>o)&&(t=o,r=n)}return r},t.prototype.setupTimingPattern=function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},t.prototype.setupPositionAdjustPattern=function(){for(var t=a.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],o=t[r];if(null==this.modules[n][o])for(var i=-2;i<=2;i++)for(var s=-2;s<=2;s++)this.modules[n+i][o+s]=-2==i||2==i||-2==s||2==s||0==i&&0==s}},t.prototype.setupTypeNumber=function(t){for(var e=a.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&1==(e>>r&1);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(r=0;r<18;r++)n=!t&&1==(e>>r&1),this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n},t.prototype.setupTypeInfo=function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=a.getBCHTypeInfo(r),o=0;o<15;o++){var i=!t&&1==(n>>o&1);o<6?this.modules[o][8]=i:o<8?this.modules[o+1][8]=i:this.modules[this.moduleCount-15+o][8]=i}for(o=0;o<15;o++)i=!t&&1==(n>>o&1),o<8?this.modules[8][this.moduleCount-o-1]=i:o<9?this.modules[8][15-o-1+1]=i:this.modules[8][15-o-1]=i;this.modules[this.moduleCount-8][8]=!t},t.prototype.mapData=function(t,e){for(var r=-1,n=this.moduleCount-1,o=7,i=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var l=0;l<2;l++)if(null==this.modules[n][s-l]){var h=!1;i<t.length&&(h=1==(t[i]>>>o&1)),a.getMask(e,n,s-l)&&(h=!h),this.modules[n][s-l]=h,-1==--o&&(i++,o=7)}if((n+=r)<0||this.moduleCount<=n){n-=r,r=-r;break}}},t.createData=function(e,r,n){for(var o=h.getRSBlocks(e,r),i=new u,s=0;s<n.length;s++){var l=n[s];i.put(l.mode,4),i.put(l.getLength(),a.getLengthInBits(l.mode,e)),l.write(i)}var c=0;for(s=0;s<o.length;s++)c+=o[s].dataCount;if(i.getLengthInBits()>8*c)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+8*c+")");for(i.getLengthInBits()+4<=8*c&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=8*c||(i.put(t.PAD0,8),i.getLengthInBits()>=8*c));)i.put(t.PAD1,8);return t.createBytes(i,o)},t.createBytes=function(t,e){for(var r=0,n=0,o=0,i=new Array(e.length),s=new Array(e.length),h=0;h<e.length;h++){var u=e[h].dataCount,c=e[h].totalCount-u;n=Math.max(n,u),o=Math.max(o,c),i[h]=new Array(u);for(var f=0;f<i[h].length;f++)i[h][f]=255&t.buffer[f+r];r+=u;var d=a.getErrorCorrectPolynomial(c),p=new l(i[h],d.getLength()-1).mod(d);for(s[h]=new Array(d.getLength()-1),f=0;f<s[h].length;f++){var g=f+p.getLength()-s[h].length;s[h][f]=g>=0?p.get(g):0}}var m=0;for(f=0;f<e.length;f++)m+=e[f].totalCount;var v=new Array(m),y=0;for(f=0;f<n;f++)for(h=0;h<e.length;h++)f<i[h].length&&(v[y++]=i[h][f]);for(f=0;f<o;f++)for(h=0;h<e.length;h++)f<s[h].length&&(v[y++]=s[h][f]);return v},t.PAD0=236,t.PAD1=17,t}();e.QRCodeModel=o,e.QRErrorCorrectLevel={L:1,M:0,Q:3,H:2};var i={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8};e.QRMaskPattern={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var a=function(){function t(){}return t.getBCHTypeInfo=function(e){for(var r=e<<10;t.getBCHDigit(r)-t.getBCHDigit(t.G15)>=0;)r^=t.G15<<t.getBCHDigit(r)-t.getBCHDigit(t.G15);return(e<<10|r)^t.G15_MASK},t.getBCHTypeNumber=function(e){for(var r=e<<12;t.getBCHDigit(r)-t.getBCHDigit(t.G18)>=0;)r^=t.G18<<t.getBCHDigit(r)-t.getBCHDigit(t.G18);return e<<12|r},t.getBCHDigit=function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},t.getPatternPosition=function(e){return t.PATTERN_POSITION_TABLE[e-1]},t.getMask=function(t,r,n){switch(t){case e.QRMaskPattern.PATTERN000:return(r+n)%2==0;case e.QRMaskPattern.PATTERN001:return r%2==0;case e.QRMaskPattern.PATTERN010:return n%3==0;case e.QRMaskPattern.PATTERN011:return(r+n)%3==0;case e.QRMaskPattern.PATTERN100:return(Math.floor(r/2)+Math.floor(n/3))%2==0;case e.QRMaskPattern.PATTERN101:return r*n%2+r*n%3==0;case e.QRMaskPattern.PATTERN110:return(r*n%2+r*n%3)%2==0;case e.QRMaskPattern.PATTERN111:return(r*n%3+(r+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},t.getErrorCorrectPolynomial=function(t){for(var e=new l([1],0),r=0;r<t;r++)e=e.multiply(new l([1,s.gexp(r)],0));return e},t.getLengthInBits=function(t,e){if(1<=e&&e<10)switch(t){case i.MODE_NUMBER:return 10;case i.MODE_ALPHA_NUM:return 9;case i.MODE_8BIT_BYTE:case i.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case i.MODE_NUMBER:return 12;case i.MODE_ALPHA_NUM:return 11;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case i.MODE_NUMBER:return 14;case i.MODE_ALPHA_NUM:return 13;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},t.getLostPoint=function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var o=0;o<e;o++){for(var i=0,a=t.isDark(n,o),s=-1;s<=1;s++)if(!(n+s<0||e<=n+s))for(var l=-1;l<=1;l++)o+l<0||e<=o+l||0==s&&0==l||a==t.isDark(n+s,o+l)&&i++;i>5&&(r+=3+i-5)}for(n=0;n<e-1;n++)for(o=0;o<e-1;o++){var h=0;t.isDark(n,o)&&h++,t.isDark(n+1,o)&&h++,t.isDark(n,o+1)&&h++,t.isDark(n+1,o+1)&&h++,0!=h&&4!=h||(r+=3)}for(n=0;n<e;n++)for(o=0;o<e-6;o++)t.isDark(n,o)&&!t.isDark(n,o+1)&&t.isDark(n,o+2)&&t.isDark(n,o+3)&&t.isDark(n,o+4)&&!t.isDark(n,o+5)&&t.isDark(n,o+6)&&(r+=40);for(o=0;o<e;o++)for(n=0;n<e-6;n++)t.isDark(n,o)&&!t.isDark(n+1,o)&&t.isDark(n+2,o)&&t.isDark(n+3,o)&&t.isDark(n+4,o)&&!t.isDark(n+5,o)&&t.isDark(n+6,o)&&(r+=40);var u=0;for(o=0;o<e;o++)for(n=0;n<e;n++)t.isDark(n,o)&&u++;return r+Math.abs(100*u/e/e-50)/5*10},t.PATTERN_POSITION_TABLE=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],t.G15=1335,t.G18=7973,t.G15_MASK=21522,t}();e.QRUtil=a;var s=function(){function t(){}return t.glog=function(e){if(e<1)throw new Error("glog("+e+")");return t.LOG_TABLE[e]},t.gexp=function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return t.EXP_TABLE[e]},t.EXP_TABLE=new Array(256),t.LOG_TABLE=new Array(256),t._constructor=function(){for(var e=0;e<8;e++)t.EXP_TABLE[e]=1<<e;for(e=8;e<256;e++)t.EXP_TABLE[e]=t.EXP_TABLE[e-4]^t.EXP_TABLE[e-5]^t.EXP_TABLE[e-6]^t.EXP_TABLE[e-8];for(e=0;e<255;e++)t.LOG_TABLE[t.EXP_TABLE[e]]=e}(),t}();e.QRMath=s;var l=function(){function t(t,e){if(null==t.length)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&0==t[r];)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}return t.prototype.get=function(t){return this.num[t]},t.prototype.getLength=function(){return this.num.length},t.prototype.multiply=function(e){for(var r=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var o=0;o<e.getLength();o++)r[n+o]^=s.gexp(s.glog(this.get(n))+s.glog(e.get(o)));return new t(r,0)},t.prototype.mod=function(e){if(this.getLength()-e.getLength()<0)return this;for(var r=s.glog(this.get(0))-s.glog(e.get(0)),n=new Array(this.getLength()),o=0;o<this.getLength();o++)n[o]=this.get(o);for(o=0;o<e.getLength();o++)n[o]^=s.gexp(s.glog(e.get(o))+r);return new t(n,0).mod(e)},t}(),h=function(){function t(t,e){this.totalCount=t,this.dataCount=e}return t.getRSBlocks=function(e,r){var n=t.getRsBlockTable(e,r);if(null==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+r);for(var o=n.length/3,i=[],a=0;a<o;a++)for(var s=n[3*a+0],l=n[3*a+1],h=n[3*a+2],u=0;u<s;u++)i.push(new t(l,h));return i},t.getRsBlockTable=function(r,n){switch(n){case e.QRErrorCorrectLevel.L:return t.RS_BLOCK_TABLE[4*(r-1)+0];case e.QRErrorCorrectLevel.M:return t.RS_BLOCK_TABLE[4*(r-1)+1];case e.QRErrorCorrectLevel.Q:return t.RS_BLOCK_TABLE[4*(r-1)+2];case e.QRErrorCorrectLevel.H:return t.RS_BLOCK_TABLE[4*(r-1)+3];default:return}},t.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],t}(),u=function(){function t(){this.buffer=[],this.length=0}return t.prototype.get=function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},t.prototype.put=function(t,e){for(var r=0;r<e;r++)this.putBit(1==(t>>>e-r-1&1))},t.prototype.getLengthInBits=function(){return this.length},t.prototype.putBit=function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++},t}(),c=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]]},137:(t,e,r)=>{var n=r(110),o=r(970);function i(){this.page=-1,this.pages=[],this.newPage()}i.pageSize=4096,i.charMap={};for(var a=0;a<256;a++)i.charMap[a]=String.fromCharCode(a);function s(t,e){this.width=~~t,this.height=~~e,this.transparent=null,this.transIndex=0,this.repeat=-1,this.delay=0,this.image=null,this.pixels=null,this.indexedPixels=null,this.colorDepth=null,this.colorTab=null,this.neuQuant=null,this.usedEntry=new Array,this.palSize=7,this.dispose=-1,this.firstFrame=!0,this.sample=10,this.dither=!1,this.globalPalette=!1,this.out=new i}i.prototype.newPage=function(){this.pages[++this.page]=new Uint8Array(i.pageSize),this.cursor=0},i.prototype.getData=function(){for(var t="",e=0;e<this.pages.length;e++)for(var r=0;r<i.pageSize;r++)t+=i.charMap[this.pages[e][r]];return t},i.prototype.toFlattenUint8Array=function(){const t=[];for(var e=0;e<this.pages.length;e++)if(e===this.pages.length-1){const r=Uint8Array.from(this.pages[e].slice(0,this.cursor));t.push(r)}else t.push(this.pages[e]);const r=new Uint8Array(t.reduce(((t,e)=>t+e.length),0));return t.reduce(((t,e)=>(r.set(e,t),t+e.length)),0),r},i.prototype.writeByte=function(t){this.cursor>=i.pageSize&&this.newPage(),this.pages[this.page][this.cursor++]=t},i.prototype.writeUTFBytes=function(t){for(var e=t.length,r=0;r<e;r++)this.writeByte(t.charCodeAt(r))},i.prototype.writeBytes=function(t,e,r){for(var n=r||t.length,o=e||0;o<n;o++)this.writeByte(t[o])},s.prototype.setDelay=function(t){this.delay=Math.round(t/10)},s.prototype.setFrameRate=function(t){this.delay=Math.round(100/t)},s.prototype.setDispose=function(t){t>=0&&(this.dispose=t)},s.prototype.setRepeat=function(t){this.repeat=t},s.prototype.setTransparent=function(t){this.transparent=t},s.prototype.addFrame=function(t){this.image=t,this.colorTab=this.globalPalette&&this.globalPalette.slice?this.globalPalette:null,this.getImagePixels(),this.analyzePixels(),!0===this.globalPalette&&(this.globalPalette=this.colorTab),this.firstFrame&&(this.writeHeader(),this.writeLSD(),this.writePalette(),this.repeat>=0&&this.writeNetscapeExt()),this.writeGraphicCtrlExt(),this.writeImageDesc(),this.firstFrame||this.globalPalette||this.writePalette(),this.writePixels(),this.firstFrame=!1},s.prototype.finish=function(){this.out.writeByte(59)},s.prototype.setQuality=function(t){t<1&&(t=1),this.sample=t},s.prototype.setDither=function(t){!0===t&&(t="FloydSteinberg"),this.dither=t},s.prototype.setGlobalPalette=function(t){this.globalPalette=t},s.prototype.getGlobalPalette=function(){return this.globalPalette&&this.globalPalette.slice&&this.globalPalette.slice(0)||this.globalPalette},s.prototype.writeHeader=function(){this.out.writeUTFBytes("GIF89a")},s.prototype.analyzePixels=function(){this.colorTab||(this.neuQuant=new n(this.pixels,this.sample),this.neuQuant.buildColormap(),this.colorTab=this.neuQuant.getColormap()),this.dither?this.ditherPixels(this.dither.replace("-serpentine",""),null!==this.dither.match(/-serpentine/)):this.indexPixels(),this.pixels=null,this.colorDepth=8,this.palSize=7,null!==this.transparent&&(this.transIndex=this.findClosest(this.transparent,!0))},s.prototype.indexPixels=function(t){var e=this.pixels.length/3;this.indexedPixels=new Uint8Array(e);for(var r=0,n=0;n<e;n++){var o=this.findClosestRGB(255&this.pixels[r++],255&this.pixels[r++],255&this.pixels[r++]);this.usedEntry[o]=!0,this.indexedPixels[n]=o}},s.prototype.ditherPixels=function(t,e){var r={FalseFloydSteinberg:[[3/8,1,0],[3/8,0,1],[2/8,1,1]],FloydSteinberg:[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]],Stucki:[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]],Atkinson:[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]]};if(!t||!r[t])throw"Unknown dithering kernel: "+t;var n=r[t],o=0,i=this.height,a=this.width,s=this.pixels,l=e?-1:1;this.indexedPixels=new Uint8Array(this.pixels.length/3);for(var h=0;h<i;h++){e&&(l*=-1);for(var u=1==l?0:a-1,c=1==l?a:0;u!==c;u+=l){var f=3*(o=h*a+u),d=s[f],p=s[f+1],g=s[f+2];f=this.findClosestRGB(d,p,g),this.usedEntry[f]=!0,this.indexedPixels[o]=f,f*=3;for(var m=d-this.colorTab[f],v=p-this.colorTab[f+1],y=g-this.colorTab[f+2],w=1==l?0:n.length-1,b=1==l?n.length:0;w!==b;w+=l){var C=n[w][1],A=n[w][2];if(C+u>=0&&C+u<a&&A+h>=0&&A+h<i){var B=n[w][0];f=o+C+A*a,s[f*=3]=Math.max(0,Math.min(255,s[f]+m*B)),s[f+1]=Math.max(0,Math.min(255,s[f+1]+v*B)),s[f+2]=Math.max(0,Math.min(255,s[f+2]+y*B))}}}}},s.prototype.findClosest=function(t,e){return this.findClosestRGB((16711680&t)>>16,(65280&t)>>8,255&t,e)},s.prototype.findClosestRGB=function(t,e,r,n){if(null===this.colorTab)return-1;if(this.neuQuant&&!n)return this.neuQuant.lookupRGB(t,e,r);for(var o=0,i=16777216,a=this.colorTab.length,s=0,l=0;s<a;l++){var h=t-(255&this.colorTab[s++]),u=e-(255&this.colorTab[s++]),c=r-(255&this.colorTab[s++]),f=h*h+u*u+c*c;(!n||this.usedEntry[l])&&f<i&&(i=f,o=l)}return o},s.prototype.getImagePixels=function(){var t=this.width,e=this.height;this.pixels=new Uint8Array(t*e*3);for(var r=this.image,n=0,o=0,i=0;i<e;i++)for(var a=0;a<t;a++)this.pixels[o++]=r[n++],this.pixels[o++]=r[n++],this.pixels[o++]=r[n++],n++},s.prototype.writeGraphicCtrlExt=function(){var t,e;this.out.writeByte(33),this.out.writeByte(249),this.out.writeByte(4),null===this.transparent?(t=0,e=0):(t=1,e=2),this.dispose>=0&&(e=7&this.dispose),e<<=2,this.out.writeByte(0|e|t),this.writeShort(this.delay),this.out.writeByte(this.transIndex),this.out.writeByte(0)},s.prototype.writeImageDesc=function(){this.out.writeByte(44),this.writeShort(0),this.writeShort(0),this.writeShort(this.width),this.writeShort(this.height),this.firstFrame||this.globalPalette?this.out.writeByte(0):this.out.writeByte(128|this.palSize)},s.prototype.writeLSD=function(){this.writeShort(this.width),this.writeShort(this.height),this.out.writeByte(240|this.palSize),this.out.writeByte(0),this.out.writeByte(0)},s.prototype.writeNetscapeExt=function(){this.out.writeByte(33),this.out.writeByte(255),this.out.writeByte(11),this.out.writeUTFBytes("NETSCAPE2.0"),this.out.writeByte(3),this.out.writeByte(1),this.writeShort(this.repeat),this.out.writeByte(0)},s.prototype.writePalette=function(){this.out.writeBytes(this.colorTab);for(var t=768-this.colorTab.length,e=0;e<t;e++)this.out.writeByte(0)},s.prototype.writeShort=function(t){this.out.writeByte(255&t),this.out.writeByte(t>>8&255)},s.prototype.writePixels=function(){new o(this.width,this.height,this.indexedPixels,this.colorDepth).encode(this.out)},s.prototype.stream=function(){return this.out},t.exports=s},970:t=>{var e=5003,r=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];t.exports=function(t,n,o,i){var a,s,l,h,u,c,f,d,p,g=Math.max(2,i),m=new Uint8Array(256),v=new Int32Array(e),y=new Int32Array(e),w=0,b=0,C=!1;function A(t,e){m[s++]=t,s>=254&&x(e)}function B(t){P(e),b=u+2,C=!0,D(u,t)}function P(t){for(var e=0;e<t;++e)v[e]=-1}function x(t){s>0&&(t.writeByte(s),t.writeBytes(m,0,s),s=0)}function R(t){return(1<<t)-1}function E(){return 0===f?-1:(--f,255&o[d++])}function D(t,e){for(a&=r[w],w>0?a|=t<<w:a=t,w+=p;w>=8;)A(255&a,e),a>>=8,w-=8;if((b>l||C)&&(C?(l=R(p=h),C=!1):(++p,l=12==p?4096:R(p))),t==c){for(;w>0;)A(255&a,e),a>>=8,w-=8;x(e)}}this.encode=function(r){r.writeByte(g),f=t*n,d=0,function(t,r){var n,o,i,a,f,d;for(C=!1,l=R(p=h=t),c=1+(u=1<<t-1),b=u+2,s=0,a=E(),d=0,n=e;n<65536;n*=2)++d;d=8-d,P(e),D(u,r);t:for(;-1!=(o=E());)if(n=(o<<12)+a,v[i=o<<d^a]!==n){if(v[i]>=0){f=5003-i,0===i&&(f=1);do{if((i-=f)<0&&(i+=5003),v[i]===n){a=y[i];continue t}}while(v[i]>=0)}D(a,r),a=o,b<4096?(y[i]=b++,v[i]=n):B(r)}else a=y[i];D(a,r),D(c,r)}(g+1,r),r.writeByte(0)}}},110:t=>{var e=256,r=1024,n=1<<18;t.exports=function(t,o){var i,a,s,l,h;function u(t,e,n,o,a){i[e][0]-=t*(i[e][0]-n)/r,i[e][1]-=t*(i[e][1]-o)/r,i[e][2]-=t*(i[e][2]-a)/r}function c(t,r,o,a,s){for(var l,u,c=Math.abs(r-t),f=Math.min(r+t,e),d=r+1,p=r-1,g=1;d<f||p>c;)u=h[g++],d<f&&((l=i[d++])[0]-=u*(l[0]-o)/n,l[1]-=u*(l[1]-a)/n,l[2]-=u*(l[2]-s)/n),p>c&&((l=i[p--])[0]-=u*(l[0]-o)/n,l[1]-=u*(l[1]-a)/n,l[2]-=u*(l[2]-s)/n)}function f(t,r,n){var o,a,h,u,c,f=~(1<<31),d=f,p=-1,g=p;for(o=0;o<e;o++)a=i[o],(h=Math.abs(a[0]-t)+Math.abs(a[1]-r)+Math.abs(a[2]-n))<f&&(f=h,p=o),(u=h-(s[o]>>12))<d&&(d=u,g=o),c=l[o]>>10,l[o]-=c,s[o]+=c<<10;return l[p]+=64,s[p]-=65536,g}this.buildColormap=function(){!function(){var t,r;for(i=[],a=new Int32Array(256),s=new Int32Array(e),l=new Int32Array(e),h=new Int32Array(32),t=0;t<e;t++)r=(t<<12)/e,i[t]=new Float64Array([r,r,r,0]),l[t]=256,s[t]=0}(),function(){var e,n,i,a,s,l,d=t.length,p=30+(o-1)/3,g=d/(3*o),m=~~(g/100),v=r,y=2048,w=y>>6;for(w<=1&&(w=0),e=0;e<w;e++)h[e]=v*(256*(w*w-e*e)/(w*w));d<1509?(o=1,n=3):n=d%499!=0?1497:d%491!=0?1473:d%487!=0?1461:1509;var b=0;for(e=0;e<g;)if(u(v,l=f(i=(255&t[b])<<4,a=(255&t[b+1])<<4,s=(255&t[b+2])<<4),i,a,s),0!==w&&c(w,l,i,a,s),(b+=n)>=d&&(b-=d),0===m&&(m=1),++e%m==0)for(v-=v/p,(w=(y-=y/30)>>6)<=1&&(w=0),l=0;l<w;l++)h[l]=v*(256*(w*w-l*l)/(w*w))}(),function(){for(var t=0;t<e;t++)i[t][0]>>=4,i[t][1]>>=4,i[t][2]>>=4,i[t][3]=t}(),function(){var t,r,n,o,s,l,h=0,u=0;for(t=0;t<e;t++){for(s=t,l=(n=i[t])[1],r=t+1;r<e;r++)(o=i[r])[1]<l&&(s=r,l=o[1]);if(o=i[s],t!=s&&(r=o[0],o[0]=n[0],n[0]=r,r=o[1],o[1]=n[1],n[1]=r,r=o[2],o[2]=n[2],n[2]=r,r=o[3],o[3]=n[3],n[3]=r),l!=h){for(a[h]=u+t>>1,r=h+1;r<l;r++)a[r]=t;h=l,u=t}}for(a[h]=u+255>>1,r=h+1;r<256;r++)a[r]=255}()},this.getColormap=function(){for(var t=[],r=[],n=0;n<e;n++)r[i[n][3]]=n;for(var o=0,a=0;a<e;a++){var s=r[a];t[o++]=i[s][0],t[o++]=i[s][1],t[o++]=i[s][2]}return t},this.lookupRGB=function(t,r,n){for(var o,s,l,h=1e3,u=-1,c=a[r],f=c-1;c<e||f>=0;)c<e&&((l=(s=i[c])[1]-r)>=h?c=e:(c++,l<0&&(l=-l),(o=s[0]-t)<0&&(o=-o),(l+=o)<h&&((o=s[2]-n)<0&&(o=-o),(l+=o)<h&&(h=l,u=s[3])))),f>=0&&((l=r-(s=i[f])[1])>=h?f=-1:(f--,l<0&&(l=-l),(o=s[0]-t)<0&&(o=-o),(l+=o)<h&&((o=s[2]-n)<0&&(o=-o),(l+=o)<h&&(h=l,u=s[3]))));return u}}},952:(t,e,r)=>{"use strict";r.r(e),r.d(e,{decompressFrame:()=>s,decompressFrames:()=>l,parseGIF:()=>a});var n=r(342),o=r(662),i=r(58);const a=t=>{const e=new Uint8Array(t);return(0,o.parse)((0,i.buildStream)(e),n.Z)},s=(t,e,r)=>{if(!t.image)return void console.warn("gif frame does not have associated image.");const{image:n}=t,o=n.descriptor.width*n.descriptor.height;var i=((t,e,r)=>{const n=4096,o=r;var i,a,s,l,h,u,c,f,d,p;const g=new Array(r),m=new Array(n),v=new Array(n),y=new Array(4097);for(h=1+(a=1<<(p=t)),i=a+2,c=-1,s=(1<<(l=p+1))-1,f=0;f<a;f++)m[f]=0,v[f]=f;var w,b,C,A,B,P;for(w=b=C=A=B=P=0,d=0;d<o;){if(0===A){if(b<l){w+=e[P]<<b,b+=8,P++;continue}if(f=w&s,w>>=l,b-=l,f>i||f==h)break;if(f==a){s=(1<<(l=p+1))-1,i=a+2,c=-1;continue}if(-1==c){y[A++]=v[f],c=f,C=f;continue}for(u=f,f==i&&(y[A++]=C,f=c);f>a;)y[A++]=v[f],f=m[f];C=255&v[f],y[A++]=C,i<n&&(m[i]=c,v[i]=C,0==(++i&s)&&i<n&&(l++,s+=i)),c=u}A--,g[B++]=y[A],d++}for(d=B;d<o;d++)g[d]=0;return g})(n.data.minCodeSize,n.data.blocks,o);n.descriptor.lct.interlaced&&(i=((t,e)=>{const r=new Array(t.length),n=t.length/e,o=function(n,o){const i=t.slice(o*e,(o+1)*e);r.splice.apply(r,[n*e,e].concat(i))},i=[0,4,2,1],a=[8,8,4,2];for(var s=0,l=0;l<4;l++)for(var h=i[l];h<n;h+=a[l])o(h,s),s++;return r})(i,n.descriptor.width));const a={pixels:i,dims:{top:t.image.descriptor.top,left:t.image.descriptor.left,width:t.image.descriptor.width,height:t.image.descriptor.height}};return n.descriptor.lct&&n.descriptor.lct.exists?a.colorTable=n.lct:a.colorTable=e,t.gce&&(a.delay=10*(t.gce.delay||10),a.disposalType=t.gce.extras.disposal,t.gce.extras.transparentColorGiven&&(a.transparentIndex=t.gce.transparentColorIndex)),r&&(a.patch=(t=>{const e=t.pixels.length,r=new Uint8ClampedArray(4*e);for(var n=0;n<e;n++){const e=4*n,o=t.pixels[n],i=t.colorTable[o];r[e]=i[0],r[e+1]=i[1],r[e+2]=i[2],r[e+3]=o!==t.transparentIndex?255:0}return r})(a)),a},l=(t,e)=>t.frames.filter((t=>t.image)).map((r=>s(r,t.gct,e)))}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,r),i.exports}return r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r(642)})()}));